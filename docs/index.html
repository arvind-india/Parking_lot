<!DOCTYPE html>
<html>
<body>
<h1>Measuring Parking Lot Occupancy using Image Processing</h1>
<h2>About the Project and Myself</h2>

<p>This project is part of the Embedded Linux course at the State University of New York at Suny New Paltz.
 It involves using a Raspberry Pi to report the occupancy of a parking lot/car park. The work done here
 will be very simplified since this is just a course project. You are encouraged to use 
 any part of this project in any way you desire.</p>
<p>A little about myself; My name is Haidar Khan and I am studying Computer Engineering at SUNY New Paltz.
My research interests are computer vision, specifically machine learning applications in computer vision.
Although this project does not deal directly with this area, my other projects do.</p>

<h1>Getting Set Up</h1>

<p>Here I will go into details of what equipment is required and what software libraries will be used.
Also a brief guide to setting up the Raspberry Pi will be given here, more information can be found 
<a href="http://www.raspberrypi.org/wp-content/uploads/2012/04/quick-start-guide-v2_1.pdf">here</a>. </p>

<h2>Equipment</h2>

<ul>
<li>Raspberry Pi</li>
<li>SD card - min. 4GB</li>
<li>MicroUSB power adapter</li>
<li>Ethernet cable or wireless adapter</li>
<li>USB Webcam</li>
<li>PC</li>
</ul>

<h2>Software Libraries</h2>

<ul>
<li>OpenCV (python)</li>
<li>SimpleCV</li>
</ul>

<h2>Setting up the Raspberry Pi (quick and dirty)</h2>

<ol>
<li>Format your SD card using <a href="https://www.sdcard.org/downloads/formatter_4/eula_windows/">this tool</a></li>
<li>Download New Out of Box Software (NOOBS) from <a href="http://www.downloads.raspberrypi.org/noobs">here</a></li>
<li>Copy the (unzipped) files to your SD card</li>
<li>Insert the SD card into the Raspberry Pi and power it up</li>
<li>Connect peripherals to Raspberry Pi</li>
<li>You can use any OS you want, I used Raspbian</li>
<li>Connect your Pi to the internet, update your package manager.</li>
<li>Install an SSH server to use the RPi headlessly (Raspbian)</li>
	<ol>
		<li>Log into Pi directly</li>
		<li>Enter Raspberry Pi config - "sudo raspi-config"</li>
		<li>Enable the SSH option</li>
	</ol>
<li>Install VNC server on raspberry Pi</li>
	<ol>
		<li>Log into Pi using SSH or directly</li>
		<li>Install Tight VNC Package - <i>sudo apt-get install tightvncserver</i></li>
		<li>Run vnc server (enter a password) - <i>tightvncserver</i></li>
		<li>Start a vnc server - <i>vncserver :0 -geometry 1920x1080 -depth 24</i></li>
		<li>to start the server on boot place the file <i>docs/vncboot</i> in <i>/etc/init.d</i></li>
		<li>Set the permissions for the file - <i>chmod 755 /etc/init.d/vncboot</i></li>
		<li>Enable dependency based boot sequencing - <i>update-rc.d vncboot defaults</i></li>
		<li>Use a VNC client to connect to the Raspberry Pi VNC server</li>
	</ol>
</ol>

<h2>Installing OpenCV-Python Libraries on RPi</h2>

<ol>
<li>Update your package manager: <i>sudo apt-get update</i>
<li>ffmpeg will need to be compiled with x264 for video processing - follow the steps
<a href="https://trac.ffmpeg.org/wiki/UbuntuCompilationGuide">here</a></li>
<li>install OpenCV for python: <i>sudo apt-get install python-opencv</i></li>
<li>Open python console: <i>python</i></li>
<li>Then check if it installed: <i>import cv2</i></li>
<li>If you see an error, there is a problem with your python-opencv installation</li>

</ol>

<h2>Running the Software</h2>

<ol>
<li>Python is an interpreted language, so compilation is not required.</li>
<li>it is recommended that the file <i>getROI.py</i></li>
<li>step 2</li>
</ol>

<h2>Project Limitations</h2>

<p>This project takes advantage of the presence of static surveillance cameras that monitor many parking lots and car parks.
Many of these cameras already exist in parking lots, so the footage from these cameras can be used to monitor parking lot occupancy.
The techniques used here will <b>NOT</b> work with a camera that is not static, meaning during the course of capture, the camera cannot move.
Also, adverse lighting conditions will cause the measurements to be inaccurate and even fail.</p>
 

</body>
</html>
